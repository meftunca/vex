// Test file for Vex generics: Generic Structs
// This file tests generic struct definitions and usage

struct Box<T> {
    value: T,
}

struct Pair<T, U> {
    first: T,
    second: U,
}

struct Container<T> {
    items: [T; 3],
    count: i32,
}

fn main(): i32 {
    // Generic struct instantiation
    let int_box = Box<i32> { value: 42 };
    let string_box = Box<string> { value: "hello" };

    let int_pair = Pair<i32, string> { first: 1, second: "one" };
    let bool_pair = Pair<bool, f64> { first: true, second: 3.14 };

    let int_container = Container<i32> {
        items: [1, 2, 3],
        count: 3,
    };

    // Access generic fields
    let int_value = int_box.value;
    let string_value = string_box.value;
    let pair_first = int_pair.first;
    let pair_second = int_pair.second;
    let container_item = int_container.items[0];

    // Nested generics
    let nested_box = Box<Pair<i32, string>> {
        value: Pair<i32, string> { first: 10, second: "ten" }
    };

    let nested_value = nested_box.value.first;

    return int_value + pair_first + container_item + nested_value;
}