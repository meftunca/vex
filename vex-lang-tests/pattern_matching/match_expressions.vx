// Test file for Vex pattern matching: Match Expressions
// This file tests match expressions with various patterns

enum Color {
    Red,
    Green,
    Blue,
}

enum IpAddr {
    V4(u8, u8, u8, u8),
    V6(string),
}

fn main(): i32 {
    // Literal patterns
    let x = 42;
    let literal_result = match x {
        0 => { 0 }
        1 => { 1 }
        42 => { 42 }
        _ => { -1 }
    };

    // Enum patterns (unit variants)
    let color = Color.Red;
    let color_name = match color {
        Color.Red => { "red" }
        Color.Green => { "green" }
        Color.Blue => { "blue" }
    };

    // Tuple patterns
    let point = (10, 20);
    let quadrant = match point {
        (0, 0) => { "origin" }
        (x, 0) => { "x-axis" }
        (0, y) => { "y-axis" }
        (x, y) => {
            if x > 0 && y > 0 {
                "first quadrant"
            } elif x < 0 && y > 0 {
                "second quadrant"
            } elif x < 0 && y < 0 {
                "third quadrant"
            } else {
                "fourth quadrant"
            }
        }
    };

    // Or patterns
    let day = 6;
    let day_type = match day {
        1 | 2 | 3 | 4 | 5 => { "weekday" }
        6 | 7 => { "weekend" }
        _ => { "invalid" }
    };

    // Complex enum patterns (tuple variants)
    let localhost = IpAddr.V4(127, 0, 0, 1);
    let ip_type = match localhost {
        IpAddr.V4(a, b, c, d) => { "IPv4" }
        IpAddr.V6(addr) => { "IPv6" }
    };

    return literal_result;
}