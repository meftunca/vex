// Test bitwise compound assignment operators

fn test_bitwise_and(): i32 {
    let! x: i32 = 15;      // Binary: 1111
    x &= 10;               // 15 & 10 = 10
    return x;              // Should be 10
}

fn test_bitwise_or(): i32 {
    let! x: i32 = 10;      // Binary: 1010
    x |= 5;                // 10 | 5 = 15
    return x;              // Should be 15
}

fn test_bitwise_xor(): i32 {
    let! x: i32 = 15;      // Binary: 1111
    x ^= 10;               // 15 ^ 10 = 5
    return x;              // Should be 5
}

fn test_left_shift(): i32 {
    let! x: i32 = 5;       // 5
    x <<= 2;               // 5 << 2 = 20
    return x;              // Should be 20
}

fn test_right_shift(): i32 {
    let! x: i32 = 20;      // 20
    x >>= 2;               // 20 >> 2 = 5
    return x;              // Should be 5
}

fn test_modulo(): i32 {
    let! x: i32 = 17;      // 17
    x %= 5;                // 17 % 5 = 2
    return x;              // Should be 2
}

fn main(): i32 {
    println("Testing bitwise assignment operators:");
    
    let r1 = test_bitwise_and();
    println("Bitwise AND (&=): 15 & 10 = {}", r1);
    
    let r2 = test_bitwise_or();
    println("Bitwise OR (|=): 10 | 5 = {}", r2);
    
    let r3 = test_bitwise_xor();
    println("Bitwise XOR (^=): 15 ^ 10 = {}", r3);
    
    let r4 = test_left_shift();
    println("Left Shift (<<=): 5 << 2 = {}", r4);
    
    let r5 = test_right_shift();
    println("Right Shift (>>=): 20 >> 2 = {}", r5);
    
    let r6 = test_modulo();
    println("Modulo (%=): 17 % 5 = {}", r6);
    
    println("All bitwise assignment tests passed!");
    
    return 0;
}
