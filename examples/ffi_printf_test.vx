// FFI Variadic Function Test - printf
// Tests variadic C function calls

extern "C" {
    fn printf(fmt: *byte, ...) -> i32;
    fn strlen(s: *byte) -> usize;
}

fn main() : i32 {
    // Test 1: Simple string
    unsafe { printf("Hello from Vex FFI!\n".as_ptr()); }
    
    // Test 2: Integer formatting
    let x = 42;
    unsafe { printf("Integer: %d\n".as_ptr(), x); }
    
    // Test 3: Multiple arguments
    let a = 10;
    let b = 20;
    unsafe { printf("Sum: %d + %d = %d\n".as_ptr(), a, b, a + b); }
    
    // Test 4: Float formatting
    let pi = 3.14159;
    unsafe { printf("Pi: %.5f\n".as_ptr(), pi); }
    
    // Test 5: String length with strlen
    let msg = "Vex Language";
    let len = unsafe { strlen(msg.as_ptr()) };
    unsafe { printf("String '%s' has length: %zu\n".as_ptr(), msg.as_ptr(), len); }
    
    return 0;
}
