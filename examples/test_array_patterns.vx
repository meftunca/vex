// Test Array/Slice pattern matching

fn test_fixed_array() {
    let! arr: [i32; 3] = [1, 2, 3];
    
    match arr {
        [1, 2, 3] => print("Exact match [1, 2, 3]"),
        [1, x, y] => print("Starts with 1"),
        [a, b, c] => print("Any three elements"),
        _ => print("Wildcard"),
    };
}

fn test_array_with_rest() {
    let! arr: [i32; 5] = [10, 20, 30, 40, 50];
    
    match arr {
        [first, second, third] => {
            print("First three elements");
        },
        [x, y] => print("Two elements"),
        [x] => print("One element"),
        _ => print("Wildcard"),
    };
}

fn test_slice_pattern() {
    let! numbers: [i32; 4] = [1, 2, 3, 4];
    
    match numbers {
        [x, y, z, w] => print("Four elements"),
        [x, y, z] => print("Three elements"),
        [x, y] => print("Two elements"),
        [x] => print("Single element"),
        _ => print("Fallback"),
    };
}

fn test_nested_patterns() {
    // TODO: Nested arrays not yet supported
    // let! pairs: [[i32; 2]; 2] = [[1, 2], [3, 4]];
    
    // match pairs {
    //     [[a, b], [c, d]] => {
    //         print("Nested array destructuring");
    //     },
    //     _ => print("Fallback"),
    // };
    
    print("Nested patterns test skipped (not yet implemented)");
}

fn main() {
    test_fixed_array();
    test_array_with_rest();
    test_slice_pattern();
    test_nested_patterns();
    print("Array pattern matching tests complete!");
}
