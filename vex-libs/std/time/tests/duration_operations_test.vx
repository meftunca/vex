// Time Module - Duration Operations Test (Simplified)
// Tests duration operations without Result/match syntax

import { duration_string, Duration, SECOND, MILLISECOND, MICROSECOND, NANOSECOND, MINUTE, HOUR } from "time";

fn main(): i32 {
    println("=== Time Module: Duration Operations Test ===");

    // Test 1: Duration formatting
    println("Test 1: Duration Formatting");
    let test_durations = [
        Duration { ns: 3661000000000 },  // 1h 1m 1s 100ms
        Duration { ns: 7200000000000 },  // 2 hours
        Duration { ns: 1800000000000 },  // 30 minutes
        Duration { ns: 45000000000 },    // 45 seconds
        Duration { ns: 500000000 },      // 500 milliseconds
        Duration { ns: 250000 },         // 250 microseconds
        Duration { ns: 100 },            // 100 nanoseconds
        Duration { ns: -3600000000000 }, // negative
    ];

    for i in 0..test_durations.len() {
        let d = test_durations[i];
        let formatted = duration_string(d);
        println("✓ " + d.ns.to_string() + " ns -> '" + formatted + "'");
    }

    // Test 2: Duration constants
    println("Test 2: Duration Constants");
    println("✓ HOUR = " + HOUR.to_string() + " ns");
    println("✓ MINUTE = " + MINUTE.to_string() + " ns");
    println("✓ SECOND = " + SECOND.to_string() + " ns");
    println("✓ MILLISECOND = " + MILLISECOND.to_string() + " ns");
    println("✓ MICROSECOND = " + MICROSECOND.to_string() + " ns");
    println("✓ NANOSECOND = " + NANOSECOND.to_string() + " ns");

    // Test 3: Duration arithmetic
    println("Test 3: Duration Arithmetic");
    let d1 = Duration { ns: 1000000000 };  // 1 second
    let d2 = Duration { ns: 500000000 };   // 0.5 seconds
    let sum = Duration { ns: d1.ns + d2.ns };
    let diff = Duration { ns: d1.ns - d2.ns };

    println("✓ 1s + 0.5s = " + duration_string(sum));
    println("✓ 1s - 0.5s = " + duration_string(diff));

    // Test 4: Complex duration
    println("Test 4: Complex Duration");
    let complex_d = HOUR + MINUTE * 30 + SECOND * 45 + MILLISECOND * 500;
    println("✓ 1h 30m 45s 500ms = " + duration_string(complex_d));

    println("=== Duration Operations Test Complete ===");
    return 0;
}